# Spring JPA
#### ëª©ì°¨
1. [ğŸ¸SQLì„ ì§ì ‘ ë‹¤ë£° ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œì ](#ğŸ¸sqlì„-ì§ì ‘-ë‹¤ë£°-ë•Œ-ë°œìƒí•˜ëŠ”-ë¬¸ì œì ê³¼-jpa)
    - [ğŸ‘ë¬¸ì œì ](#ğŸ‘ë¬¸ì œì )
        - [1ï¸âƒ£ ë°˜ë³µ, ë°˜ë³µ ê·¸ë¦¬ê³  ë°˜ë³µ](#1ï¸âƒ£-ë°˜ë³µ-ë°˜ë³µ-ê·¸ë¦¬ê³ -ë°˜ë³µ)
        - [2ï¸âƒ£ SQLì— ì˜ì¡´ì ì¸ ê°œë°œ](#2ï¸âƒ£-sqlì—-ì˜ì¡´ì ì¸-ê°œë°œ)
    - [ğŸ‘JPAê°€ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•](#ğŸ‘jpaê°€-ë¬¸ì œë¥¼-í•´ê²°í•˜ëŠ”-ë°©ë²•)
        - [ğŸ“Œì €ì¥ ê¸°ëŠ¥](#ğŸ“Œì €ì¥-ê¸°ëŠ¥)
2. [ğŸ¸ORMê³¼ JPA](#ğŸ¸ormê³¼-jpa)
    - [ORMì´ë€?](#ormì´ë€)
        - [ORM ì´í•´í•˜ê¸°](#orm-ì´í•´í•˜ê¸°)
    - [JPAë€?](#jpaë€)

## ğŸ¸SQLì„ ì§ì ‘ ë‹¤ë£° ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œì ê³¼ JPA
### ğŸ‘ë¬¸ì œì 
#### 1ï¸âƒ£ ë°˜ë³µ, ë°˜ë³µ ê·¸ë¦¬ê³  ë°˜ë³µ
SQLì„ ì§ì ‘ ë‹¤ë£¨ì–´ ê°ì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— CRUD í•  ë•Œ, ë„ˆë¬´ ë§ì€ SQLê³¼ JDBC APIë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤.

í…Œì´ë¸”ë§ˆë‹¤ ë§ì€ SQLê³¼ JDBC APIë¥¼ ì‘ì„±í•´ì•¼ í•˜ëŠ”ë°, ë§Œì•½ í…Œì´ë¸”ì´ 100ê°œë¼ë©´ ì´ë¥¼ 100ë²ˆ ë°˜ë³µí•˜ì—¬ ì‘ì„±í•´ì•¼ í•œë‹¤.

#### 2ï¸âƒ£ SQLì— ì˜ì¡´ì ì¸ ê°œë°œ
SQLì— ëª¨ë“  ê²ƒì„ ì˜ì¡´í•˜ëŠ” ìƒí™©ì—ì„œëŠ” ê°œë°œìë“¤ì´ ì—”í‹°í‹°ë¥¼ ì‹ ë¢°í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

ëŒ€ì‹  DAOë¥¼ ì—´ì–´ ì–´ë–¤ SQLì´ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.

ì´ëŠ” ì§„ì •í•œ ì˜ë¯¸ì˜ ê³„ì¸µ ë¶„í• ì´ ì•„ë‹ˆë©°, ë¬¼ë¦¬ì ìœ¼ë¡œ SQLê³¼ JDBC APIë¥¼ DAOì— ìˆ¨ê²¼ë‹¤ê³  í•´ë„ ë…¼ë¦¬ì ìœ¼ë¡œëŠ” ë§¤ìš° ê°•í•œ ì˜ì¡´ê´€ê³„ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

ì´ ë•Œë¬¸ì— í•„ë“œ í•˜ë‚˜ë¥¼ ì¶”ê°€í•´ë„ DAOì˜ CRUD ì½”ë“œì™€ SQL ëŒ€ë¶€ë¶„ì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤.

- ì§„ì •í•œ ì˜ë¯¸ì˜ ê³„ì¸µ ë¶„í• ì´ ì–´ë µë‹¤.
- ì—”í‹°í‹°ë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤.
- SQLì— ì˜ì¡´ì ì¸ ê°œë°œì„ í”¼í•˜ê¸° ì–´ë µë‹¤.

### ğŸ‘JPAê°€ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•
`JPA`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  ê´€ë¦¬í•  ë•Œ, ê°œë°œìê°€ SQLë¥¼ ì§ì ‘ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ `JPA API`ë¥¼ ì‚¬ìš©í•œë‹¤.

ì´í›„ `JPA`ê°€ ì ì ˆí•œ `SQL`ì„ ìƒì„±í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ë‹¬í•œë‹¤.

#### ğŸ“Œì €ì¥ ê¸°ëŠ¥
`persist()`ëŠ” ê°ì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤.
```java
jpa.persist(member);    // ì €ì¥
```
`JPA`ëŠ” ê°ì²´ ë§¤í•‘ ì •ë³´ì— ë”°ë¼ ì ì ˆí•œ `INSERT SQL`ì„ ìƒì„±í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ë‹¬í•œë‹¤.

#### ğŸ“Œì¡°íšŒ ê¸°ëŠ¥
`find()`ëŠ” ê°ì²´ í•˜ë‚˜ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œë‹¤.
```java
String memberId = "helloId";
Member member = jpa.find(Member.class, memberId);   // ì¡°íšŒ
```
`JPA`ëŠ” ê°ì²´ ë§¤í•‘ ì •ë³´ì— ë”°ë¼ ì ì ˆí•œ `SELECT SQL`ì„ ìƒì„±í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ë‹¬í•˜ê³  ì´ ê²°ê³¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•œë‹¤.

#### ğŸ“Œìˆ˜ì • ê¸°ëŠ¥
```java
Member member = jpa.find(Member.class, memberId);
member.setName("ì´ë¦„ë³€ê²½");     // ìˆ˜ì •
```
`JPA`ëŠ” ë³„ë„ì˜ ìˆ˜ì • ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.

í•˜ì§€ë§Œ ê°ì²´ ì¡°íšŒ í›„ ë³€ê²½í•˜ë©´ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ, ì•Œì•„ì„œ `UPDATE SQL`ì„ ì „ë‹¬í•œë‹¤.

#### ğŸ“Œì—°ê´€ëœ ê°ì²´ ì¡°íšŒ

## ğŸ¸ORMê³¼ JPA
### ORMì´ë€?
> ORM(Object Relational Mapping)

`ORM`ì€ ìë°” ë¬¸ë²•ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ í•œë‹¤.

ì¦‰, ORMì„ í†µí•´ ê°œë°œìê°€ SQLì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ì˜ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤.

#### ORM ì´í•´í•˜ê¸°
`ORM`ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ìë°” í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.


|id|subject|content|
|--|--|--|
|1|ì•ˆë…•í•˜ì„¸ìš”|ê°€ì…í–ˆìŠµë‹ˆë‹¤!|
|2|ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤|ORMì´ ë­”ê°€ìš©|
|...|...|...|

ìœ„ `question` í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ë ¤ë©´ ë‹¤ìŒ SQL ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•´ì•¼ í•œë‹¤.

```sql
INSERT INTO question (id, subject, content) VALUES (1, 'ì•ˆë…•í•˜ì„¸ìš”', 'ê°€ì…í–ˆìŠµë‹ˆë‹¤!');
INSERT INTO question (id, subject, content) VALUES (2, 'ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤', 'ORMì´ ë­”ê°€ìš©');
```

ì´ SQL ì¿¼ë¦¬ë¬¸ì„ ORMì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.

```java
Question q1 = new Question();
q1.setId(1);
q1.setSubject("ì•ˆë…•í•˜ì„¸ìš”");
q1.setContent("ê°€ì…í–ˆìŠµë‹ˆë‹¤!");
this.questionRepository.save(q1);

Question q2 = new Question();
q2.setId(2);
q2.setSubject("ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤");
q2.setContent("ORMì´ ë­”ê°€ìš©");
this.questionRepository.save(q2);
```

### JPAë€?
> JPA(Java Persistance API)

ìŠ¤í”„ë§ ë¶€íŠ¸

-----
## ğŸ’ References
- [ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°](https://product.kyobobook.co.kr/detail/S000000935744)
- [ì í”„ íˆ¬ ìŠ¤í”„ë§ë¶€íŠ¸](https://wikidocs.net/161164)